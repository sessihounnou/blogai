!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var u=r(10);Object.defineProperty(t,"follows",{enumerable:!0,get:function(){return n(u).default}});var i=r(12);Object.defineProperty(t,"followers",{enumerable:!0,get:function(){return n(i).default}});var a=r(13);Object.defineProperty(t,"media",{enumerable:!0,get:function(){return n(a).default}});var s=r(14);Object.defineProperty(t,"user",{enumerable:!0,get:function(){return n(s).default}})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.cookies.ds_user_id;return t&&c.default.get("id")!==t&&((0,p.default)("Saved new user id: "+t),c.default.set("id",t)),t}function u(e,t){return f.default.post("/accounts/login/ajax/",{username:e,password:t}).then(function(t){var r=t.res,n=t.body;n.authenticated||(0,g.throwError)("Authentication for user "+e+" failed",401),o(r),(0,p.default)("@"+e+" logged in!")})}function i(e){return f.default.get().then(function(e){var t=e.res;e.body;return!!o(t)})}function a(e,t){return(0,p.default)("Logging in "+e+"..."),i(e).then(function(r){return r?null:u(e,t)})}function s(){return c.default.get("id")}Object.defineProperty(t,"__esModule",{value:!0}),t.getUserId=t.isLoggedIn=t.login=void 0;var l=r(3),f=n(l),d=r(6),c=n(d),v=r(7),p=n(v),g=r(9);t.login=a,t.isLoggedIn=i,t.getUserId=s},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){var e=v.default.get("cookies",{});return{cookies:e,headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.84 Safari/537.36",Referer:"https://www.instagram.com/","X-CSRFToken":e.csrftoken||""},follow:1}}function u(e,t,r){if(e&&(0,_.throwError)("Network error",t.statusCode,e),200!==t.statusCode&&(0,_.throwError)(r&&r.message||t.statusMessage,t.statusCode),Object.keys(t.cookies||{}).length){var n=v.default.get("cookies",{});Object.assign(n,t.cookies),v.default.set("cookies",n)}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=l.default.resolve(h,e);return(0,g.default)("GET "+t),new Promise(function(e,r){d.default.get(t,o(),function(t,n,o){try{u(t,n,o)}catch(e){return void r(e)}e({res:n,body:o})})})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],r=l.default.resolve(h,e);return(0,g.default)("POST "+r),new Promise(function(e,n){d.default.post(r,t,o(),function(t,r,o){try{u(t,r,o)}catch(e){return void n(e)}e({res:r,body:o})})})}Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),l=n(s),f=r(5),d=n(f),c=r(6),v=n(c),p=r(7),g=n(p),_=r(9),h="https://www.instagram.com";t.default={get:i,post:a},e.exports=t.default},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("needle")},function(e,t){"use strict";function r(e,t){t?o.set(e,t):o.has(e)&&o.delete(e)}function n(e,t){return o.has(e)?o.get(e):t}Object.defineProperty(t,"__esModule",{value:!0});var o=new Map;t.default={set:r,get:n},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(8),u=n(o);t.default=(0,u.default)("ig-scraper"),e.exports=t.default},function(e,t){e.exports=require("debug")},function(e,t){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new Error(e||r&&r.message||"Unknown error");return Object.assign(n,{code:parseInt(t),innerError:r})}function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];throw r.apply(null,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createError=r,t.throwError=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;(0,s.default)("Getting "+t+" followings of @"+e);var r={type:"follows",count:t,nodes:["id","full_name","username"],ref:"relationships::follow_list"};return(0,i.default)(e,r).then(function(e){var t=(e.res,e.body);return t.follows})}Object.defineProperty(t,"__esModule",{value:!0});var u=r(11),i=n(u),a=r(7),s=n(a);t.default={list:o},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)return Promise.reject((0,s.createError)("Not Authenticated: missing userId",401));var r=["count","page_info { end_cursor, has_next_page }"];t.nodes&&r.push("nodes{"+t.nodes.join(",")+"}");var n=t.cursor?"after("+t.cursor+", "+t.count+")":"first("+t.count+")",o="ig_user("+e+") {\n    "+t.type+"."+n+" {\n      "+r.join(",")+"\n    }\n  }";return i.default.post("/query/",{q:o,ref:t.ref})}Object.defineProperty(t,"__esModule",{value:!0});var u=r(3),i=n(u),a=r(6),s=(n(a),r(9));t.default=o,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,s.default)("Getting "+t+" followers of user with id "+e);var n={type:"followed_by",count:t,cursor:r,nodes:["id","full_name","username"],ref:"relationships::follow_list"};return(0,i.default)(e,n).then(function(e){var t=(e.res,e.body);return t.followed_by})}Object.defineProperty(t,"__esModule",{value:!0});var u=r(11),i=n(u),a=r(7),s=n(a);t.default={list:o},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;(0,v.default)("Getting "+t+" latest media of @"+e);var r={type:"media",count:t,nodes:["id","likes { count }"],ref:"users::show"};return(0,s.default)(e,r).then(function(e){var t=(e.res,e.body);return t.media})}function u(e){return(0,v.default)("Like media with id "+e),f.default.post("/web/likes/"+e+"/like/").then(function(t){var r=(t.res,t.body);"ok"===!r.status&&(0,p.throwError)("Unable to like media "+e+": "+r)})}function i(e){return(0,v.default)("Unlike media with id "+e),f.default.post("/web/likes/"+e+"/unlike/").then(function(t){var r=(t.res,t.body);"ok"===!r.status&&(0,p.throwError)("Unable to unlike media "+e+": "+r)})}Object.defineProperty(t,"__esModule",{value:!0});var a=r(11),s=n(a),l=r(3),f=n(l),d=r(6),c=(n(d),r(7)),v=n(c),p=r(9);t.default={list:o,like:u,unlike:i},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,s.default)("Getting user data for @"+e),i.default.get("/"+e+"/?__a=1").then(function(e){var t=(e.res,e.body);return t.user})}Object.defineProperty(t,"__esModule",{value:!0});var u=r(3),i=n(u),a=r(7),s=n(a);t.default={get:o},e.exports=t.default}]));